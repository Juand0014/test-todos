<app-navbar></app-navbar>
<div class="container">
	<div class="row mt-3">
		<div class="col-6 col-md-6 offset-md-3">
			<h2>Create New Task</h2>
		</div>
	</div>
	<div class="row">
		<form class="mt-3" [formGroup]="taskForm">
			<div class="col-md-6 offset-md-3">
				<div class="mb-3">
					<label class="form-label">Title <span class="text-danger"> *</span></label>
					<input [ngClass]="{'border-danger': (submittedForm && form['title'].errors?.['required'])}"
						formControlName="title" type="text" class="form-control" placeholder="To do">
					<!-- err message -->
					<label *ngIf="(submittedForm && form['title'].errors?.['required']) || invalidControl('code')"
						class="text-danger mt-1 err">Title required</label>
				</div>
			</div>
			<div class="col-md-6 offset-md-3">
				<div class="mb-3">
					<label class="form-label">Description</label>
					<textarea formControlName="description" class="form-control" rows="3"></textarea>
				</div>
			</div>
			<div class="col-md-6 offset-md-3">
				<div class="mb-3">
					<label class="form-label">Priority <span class="text-danger"> *</span></label>
					<select [ngClass]="{'border-danger': (submittedForm && form['priority'].errors?.['required'])}"
						formControlName="priority" class="form-select" aria-label="Default select example">
						<option value="1" selected>Low</option>
						<option value="2">Medium</option>
						<option value="3">High</option>
					</select>
					<!-- err message -->
					<label *ngIf="(submittedForm && form['priority'].errors?.['required']) || invalidControl('priority')"
						class="text-danger mt-1 err">Priority required</label>
				</div>
			</div>

			<div class="col-md-6 offset-md-3">
				<label class="form-label">Status <span class="text-danger"> *</span></label>
				<select [ngClass]="{'border-danger': (submittedForm && form['status'].errors?.['required'])}"
					formControlName="status" class="form-select" aria-label="Default select example">
					<option value="1">Open</option>
					<option value="2">In Progress</option>
					<option value="3">completed</option>
				</select>
				<!-- err message -->
				<label *ngIf="(submittedForm && form['status'].errors?.['required']) || invalidControl('status')"
					class="text-danger mt-1 err">Status required</label>
			</div>

			<div class="col-md-6 offset-md-3 d-grid gap-2 mt-4">
				<button type="submit" class="btn btn-success p-3" (click)="createTask()">Submit</button>
			</div>
		</form>
	</div>
</div>